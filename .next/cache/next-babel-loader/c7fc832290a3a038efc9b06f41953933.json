{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useState } from 'react';\nimport Head from 'next/head';\nimport Link from 'next/link';\nimport Layout from '../components/Layout';\n\nfunction Page({\n  posts\n}) {\n  const {\n    0: currentPage,\n    1: setCurrentPage\n  } = useState(1);\n  const {\n    0: postPerPage,\n    1: setPostPerPage\n  } = useState(7);\n  const totalPost = posts.length;\n  const indexoflastpost = currentPage * postPerPage;\n  console.log(indexoflastpost);\n  const indexoffirstpost = indexoflastpost - postPerPage;\n  console.log(indexoffirstpost);\n  const pageNum = [];\n  const currentPost = posts.slice(indexoffirstpost, indexoflastpost);\n  console.log(currentPost);\n  const totalPos = Math.ceil(totalPost / postPerPage);\n\n  for (let i = 1; i <= totalPos; i++) {\n    pageNum.push(i);\n  }\n\n  const page = pageNum => setCurrentPage(pageNum);\n\n  return /*#__PURE__*/_jsxs(Layout, {\n    children: [/*#__PURE__*/_jsx(Head, {\n      children: /*#__PURE__*/_jsx(\"title\", {\n        children: \"Posts List API\"\n      })\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"w3-container w3-padding w3-margin\",\n      children: [/*#__PURE__*/_jsx(\"ul\", {\n        className: \"list-none \",\n        children: currentPost.map(post => /*#__PURE__*/_jsxs(\"li\", {\n          children: [post.id, \" \\xA0\\xA0 \", /*#__PURE__*/_jsx(Link, {\n            href: \"/Post/[id]\",\n            as: `/Post/${post.id}`,\n            children: /*#__PURE__*/_jsx(\"b\", {\n              className: \"cursor-pointer text-blue-500\",\n              children: post.title\n            })\n          })]\n        }))\n      }), /*#__PURE__*/_jsx(\"ul\", {\n        className: \"w3-bar \",\n        children: pageNum.map(post => /*#__PURE__*/_jsx(\"li\", {\n          className: \"cursor-pointer mt-10 w3-bar-item w3-border w3-hover-green\",\n          children: /*#__PURE__*/_jsx(\"a\", {\n            onClick: () => page(post),\n            children: /*#__PURE__*/_jsx(\"b\", {\n              children: post\n            })\n          })\n        }))\n      })]\n    })]\n  });\n}\n\nexport async function getServerSideProps() {\n  const res = await fetch('https://jsonplaceholder.typicode.com/posts');\n  const posts = await res.json();\n  console.log(\"yes\");\n  const ln = posts.lenght;\n  return {\n    props: {\n      posts\n    }\n  };\n}\nexport default Page;","map":null,"metadata":{},"sourceType":"module"}